# EchoChat Production Environment Variables

# ==========================================
# APPLICATION SETTINGS
# ==========================================

# Target website to scrape
TARGET_URL=https://www.yoursite.fr

# Anthropic API Configuration
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-5-20250929

# ==========================================
# DOCKER IMAGE SETTINGS
# ==========================================

# Docker images from GitHub Container Registry
# Replace 'yourusername' with your GitHub username or organization
BACKEND_IMAGE=ghcr.io/yourusername/echochat/backend:latest
FRONTEND_IMAGE=ghcr.io/yourusername/echochat/frontend:latest

# ==========================================
# PORTS CONFIGURATION
# ==========================================

BACKEND_PORT=8000
FRONTEND_PORT=3000
CHROMADB_PORT=8001

# ==========================================
# SCRAPING CONFIGURATION
# ==========================================

SCRAPE_FREQUENCY_HOURS=24
SCRAPER_TIMEOUT=30000
SCRAPE_JOB_TIMEOUT=7200

# ==========================================
# RAG CONFIGURATION
# ==========================================

EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
TOP_K_RESULTS=5

# ==========================================
# BACKEND API CONFIGURATION
# ==========================================

# Frontend URL - Update with your Vercel deployment URL
NEXT_PUBLIC_API_URL=https://your-backend.render.com

# CORS Origins - Update with your frontend URL
CORS_ORIGINS=https://your-frontend.vercel.app,https://your-backend.render.com

# ==========================================
# NEXTAUTH CONFIGURATION (Frontend)
# ==========================================

# NextAuth.js Configuration
# Generate a secret with: openssl rand -base64 32
NEXTAUTH_SECRET=your-secret-key-here

# NextAuth URL - Update with your frontend deployment URL
NEXTAUTH_URL=https://your-frontend.vercel.app

# Google OAuth (https://console.cloud.google.com/apis/credentials)
# Create OAuth 2.0 credentials in Google Cloud Console
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Optional: Restrict admin access to specific emails (comma-separated)
# Leave empty to allow any Google account
ALLOWED_ADMIN_EMAILS=admin@example.com,user@example.com

# ==========================================
# LOGGING CONFIGURATION
# ==========================================

LOG_LEVEL=INFO
LOG_RETENTION_DAYS=30

# ==========================================
# DATA PERSISTENCE PATHS
# ==========================================

# Local paths for data persistence (for VPS/self-hosted)
BACKEND_DATA_PATH=./data/backend
BACKEND_LOGS_PATH=./data/logs
CHROMA_DATA_PATH=./data/chroma

# ==========================================
# CHROMADB SETTINGS
# ==========================================

CHROMA_TELEMETRY=false

# ==========================================
# DEPLOYMENT NOTES
# ==========================================

# Before deployment:
# 1. Replace all placeholder values above
# 2. Generate NEXTAUTH_SECRET: openssl rand -base64 32
# 3. Set up Google OAuth credentials:
#    a. Go to https://console.cloud.google.com/apis/credentials
#    b. Create a new OAuth 2.0 Client ID
#    c. Add authorized redirect URIs:
#       - https://your-frontend.vercel.app/api/auth/callback/google
#       - http://localhost:3000/api/auth/callback/google (for testing)
#    d. Copy Client ID and Client Secret to GOOGLE_CLIENT_ID and GOOGLE_CLIENT_SECRET
# 4. Create data directories: mkdir -p ./data/{backend,logs,chroma}
# 5. Keep this file secure and never commit it to git
# 6. For cloud deployments (Render/Railway/Fly.io/Vercel):
#    - Set ALL environment variables in the platform dashboard
#    - For Vercel, add NEXTAUTH_* and GOOGLE_* variables in Settings > Environment Variables
#    - No need to use this file on those platforms
# 7. For VPS/self-hosted:
#    - Copy this file to .env.production
#    - Use: docker compose -f docker-compose.production.yml up -d
